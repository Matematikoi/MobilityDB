<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Accesores</title><link rel="stylesheet" type="text/css" href="docbook.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="MobilityDB 1.1 Manual de usuario"><link rel="up" href="ch02.html" title="Capítulo 2. Tipos de conjunto y de rango"><link rel="prev" href="ch02s03.html" title="Conversión de tipos"><link rel="next" href="ch02s05.html" title="Transformaciones"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Accesores</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s03.html">Anterior</a> </td><th width="60%" align="center">Capítulo 2. Tipos de conjunto y de rango</th><td width="20%" align="right"> <a accesskey="n" href="ch02s05.html">Siguiente</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm818"></a>Accesores</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="setspan_memSize"></a><a class="indexterm" name="idm822"></a><p>Obtener el tamaño de la memoria en bytes</p><p><code class="varname">memSize({set,spanset}) → integer</code></p><pre class="programlisting">
SELECT memSize(tstzset '{2001-01-01, 2001-01-02, 2001-01-03}');
-- 104
SELECT memSize(tstzspanset '{[2001-01-01, 2001-01-02], [2001-01-03, 2001-01-04],
  [2001-01-05, 2001-01-06]}');
-- 136
</pre></li><li class="listitem"><a name="lower"></a><a class="indexterm" name="idm830"></a><a class="indexterm" name="idm833"></a><p>Obtener el límite inferior</p><p><code class="varname">lower(span) → base</code></p><p><code class="varname">upper(span) → base</code></p><pre class="programlisting">
SELECT lower(intspan '[20, 25)');
-- 20
SELECT lower(intspanset '{[1,2],[4,5]}');
--  1
SELECT lower(tstzspan '[2011-01-01, 2011-01-05)');
-- 2011-01-01
SELECT upper(intspanset '{[1,2],[4,5]}');
--  6
SELECT upper(floatspan '[20.5, 25.3)');
-- 25.3
SELECT upper(tstzspan '[2011-01-01, 2011-01-05)');
-- 2011-01-05
</pre></li><li class="listitem"><a name="lower_inc"></a><a class="indexterm" name="idm843"></a><a class="indexterm" name="idm846"></a><p>¿Es el límite inferior/superior inclusivo?</p><p><code class="varname">lower_inc(span) → boolean</code></p><p><code class="varname">upper_inc(span) → boolean</code></p><pre class="programlisting">
SELECT lower_inc(intspan '[20, 25)');
-- true
SELECT lower_inc(intspanset '{[1,2],[4,5]}');
-- true
SELECT lower_inc(tstzspan '[2011-01-01, 2011-01-05)');
-- true
SELECT upper_inc(intspanset '{[1,2],[4,5]}');
-- false
SELECT upper(floatspan '[20.5, 25.3]');
-- true
SELECT upper_inc(tstzspan '[2011-01-01, 2011-01-05)');
-- false
</pre></li><li class="listitem"><a name="width"></a><a class="indexterm" name="idm856"></a><p>Obtener el ancho del rango como un número de punto flotante</p><p><code class="varname">width(numspan) → float</code></p><p><code class="varname">width(numspanset,boundspan=false) → float</code></p><p>Se puede establecer a verdadero un parámetro adicional para calcular el ancho del rango delimitador, ignorando así las posibles brechas de valors</p><pre class="programlisting">
SELECT width(intspan '[1, 3)');
-- 2
SELECT width(floatspan '[1, 3)');
-- 2
SELECT width(intspanset '{[1,3),[5,7)}');
-- 4
SELECT width(intspanset '{[1,3),[5,7)}', true);
-- 6
</pre></li><li class="listitem"><a name="setspan_duration"></a><a class="indexterm" name="idm867"></a><p>Obtener el intervalo de tiempo</p><p><code class="varname">duration(tstzspan) → interval</code></p><p><code class="varname">duration(tstzspanset,boundspan=false) → interval</code></p><p>Se puede establecer a verdadero un parámetro adicional para calcular la duración en el rango delimitador, ignorando así las posibles breachas de tiempo</p><pre class="programlisting">
SELECT duration(tstzspan '[2001-01-01, 2001-01-03)');
-- 2 days
SELECT duration(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-05)}');
-- 3 days
SELECT duration(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-05)}', true);
-- 4 days
</pre></li><li class="listitem"><a name="setspan_span"></a><a class="indexterm" name="idm878"></a><p>Obtener el período en el que se define el conjunto de marcas de tiempo o el conjunto de períodos ignorando las posibles brechas de tiempo</p><p><code class="varname">span({set,spanset}) → span</code></p><pre class="programlisting">
SELECT span(tstzset '{2001-01-01, 2001-01-03, 2001-01-05}');
-- [2001-01-01, 2001-01-05]
SELECT span(tstzspanset '{[2001-01-01, 2001-01-02), [2001-01-03, 2001-01-04)}');
-- [2001-01-01, 2001-01-04)
</pre></li><li class="listitem"><a name="numValues"></a><a class="indexterm" name="idm886"></a><p>Obtener el número de valores</p><p><code class="varname">numValues(set) → integer</code></p><pre class="programlisting">
SELECT numValues(intset '{1,3,5,7}');
-- 4
</pre></li><li class="listitem"><a name="set_startValue"></a><a class="indexterm" name="idm894"></a><a class="indexterm" name="idm897"></a><a class="indexterm" name="idm900"></a><p>Obtener el valor inicial/final/enésimo</p><p><code class="varname">startValue(set) → base</code></p><p><code class="varname">endValue(set) → base</code></p><p><code class="varname">valueN(set,integer) → base</code></p><pre class="programlisting">
SELECT startValue(intset '{1,3,5,7}');
-- 1
SELECT endValue(tstzset '{2001-01-01, 2001-01-03, 2001-01-05, 2001-01-07}');
-- 2001-01-07
SELECT valueN(floatset '{1,3,5,7}',2);
-- 3
</pre></li><li class="listitem"><a name="set_values"></a><a class="indexterm" name="idm912"></a><p>Obtener los valores</p><p><code class="varname">values(set) → base[]</code></p><pre class="programlisting">
SELECT values(tstzset '{2001-01-01, 2001-01-03, 2001-01-05, 2001-01-07}');
-- {"2001-01-01", "2001-01-03)", "2001-01-05", "2001-01-07"}
</pre></li><li class="listitem"><a name="numSpans"></a><a class="indexterm" name="idm920"></a><p>Obtener el número de rangos</p><p><code class="varname">numSpans(spanset) → integer</code></p><pre class="programlisting">
SELECT numSpans(intspanset '{[1,3),[4,4],[6,7)}');
-- 3
SELECT numSpans(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-04],
  [2001-01-05, 2001-01-06)}');
-- 3
</pre></li><li class="listitem"><a name="startSpan"></a><a class="indexterm" name="idm928"></a><a class="indexterm" name="idm931"></a><a class="indexterm" name="idm934"></a><p>Obtener el rango inicial/final/enésimo</p><p><code class="varname">startSpan(spanset) → span</code></p><p><code class="varname">endSpan(spanset) → span</code></p><p><code class="varname">spanN(spanset,integer) → span</code></p><pre class="programlisting">
SELECT startSpan(intspanset '{[1,3),[4,4],[6,7)}');
-- [1,3)
SELECT startSpan(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-04],
  [2001-01-05, 2001-01-06)}');
-- [2001-01-01,2001-01-03)
SELECT endSpan(floatspanset '{[1,3),[4,4],[6,7)}');
-- [6,7)
SELECT endSpan(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-04],
  [2001-01-05, 2001-01-06)}');
-- [2001-01-05,2001-01-06)
SELECT spanN(floatspanset '{[1,3),[4,4],[6,7)}',2);
-- [4,4]
SELECT spanN(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-04],
  [2001-01-05, 2001-01-06)}', 2);
-- [2001-01-04,2001-01-04]
</pre></li><li class="listitem"><a name="spans"></a><a class="indexterm" name="idm946"></a><p>Obtener los rangos</p><p><code class="varname">spans(spanset) → span[]</code></p><pre class="programlisting">
SELECT spans(floatspanset '{[1,3),[4,4],[6,7)}');
-- {"[1,3)","[4,4]","[6,7)"}
SELECT spans(tstzspanset '{[2001-01-01, 2001-01-03), [2001-01-04, 2001-01-04],
  [2001-01-05, 2001-01-06)}');
-- {"[2001-01-01,2001-01-03)", "[2001-01-04,2001-01-04]", "[2001-01-05,2001-01-06)"}
</pre></li><li class="listitem"><a name="setspan_numTimestamps"></a><a class="indexterm" name="idm954"></a><p>Obtener el número de marcas de tiempo diferentes</p><p><code class="varname">numTimestamps(tstzspanset) → integer</code></p><pre class="programlisting">
SELECT numTimestamps(tstzspanset '{[2001-01-01, 2001-01-03), (2001-01-03, 2001-01-05)}');
-- 3
</pre></li><li class="listitem"><a name="setspan_startTimestamp"></a><a class="indexterm" name="idm962"></a><a class="indexterm" name="idm965"></a><a class="indexterm" name="idm968"></a><p>Obtener la marca de tiempo inicial/final/enémsima</p><p><code class="varname">startTimestamp(tstzspanset) → timestamptz</code></p><p><code class="varname">endTimestamp(tstzspanset) → timestamptz</code></p><p><code class="varname">timestampN(tstzspanset,integer) → timestamptz</code></p><p>La función no tiene en cuenta si los límites son inclusivos o no.</p><pre class="programlisting">
SELECT startTimestamp(tstzspanset '{[2001-01-01, 2001-01-03), (2001-01-03, 2001-01-05)}');
-- 2001-01-01
SELECT endTimestamp(tstzspanset '{[2001-01-01, 2001-01-03), (2001-01-03, 2001-01-05)}');
-- 2001-01-05
SELECT timestampN(tstzspanset '{[2001-01-01, 2001-01-03), (2001-01-03, 2001-01-05)}', 3);
-- 2001-01-04
</pre></li><li class="listitem"><a name="setspan_timestamps"></a><a class="indexterm" name="idm981"></a><p>Obtener las marcas de tiempo diferentes</p><p><code class="varname">timestamps(tstzspanset) → tstzset</code></p><p>La función no tiene en cuenta si los límites son inclusivos o no.</p><pre class="programlisting">
SELECT timestamps(tstzspanset '{[2001-01-01, 2001-01-03), (2001-01-03, 2001-01-05)}');
-- {"2001-01-01", "2001-01-03", "2001-01-05"}
</pre></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s03.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s05.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Conversión de tipos </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Transformaciones</td></tr></table></div></body></html>
